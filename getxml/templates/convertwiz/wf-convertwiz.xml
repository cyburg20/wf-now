<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <convertwiz
        COMMENT="convertwiz - PROCESS FOR MULTI FILE CONVERTION IN CONVERTWIZ SOLUTIONS"
        DPFINT-Interactive="1"
        DPFINT-Type="WorkflowDescription"
        NAME="CONVERTWIZ - Main process convertwiz"
        PROJECT="CONVERTWIZ"
        VERSION="$Id: wf-convertwiz.xml,v 1.11 2011/10/27 14:48:32 dh Exp $"
        >
        <CONVERTWIZ.Convertwiz_User_Pre_Checkin1
          COMMENT=""
          ERROR="END"
          NEXT="checkin"
          POSX="2400"
          POSY="0"
          TYPE="SWF"
          USE="CONVERTWIZ.Convertwiz_User_Pre_Checkin"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </CONVERTWIZ.Convertwiz_User_Pre_Checkin1>
        <CONVERTWIZ.Convertwiz_User_Pre_Start1
          COMMENT=""
          ERROR="END"
          NEXT="convertwiz_convert_files"
          POSX="500"
          POSY="500"
          TYPE="SWF"
          USE="CONVERTWIZ.Convertwiz_User_Pre_Start"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </CONVERTWIZ.Convertwiz_User_Pre_Start1>
        <CONVERTWIZ.convertwiz_appkon_tif1
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NEXT="check_for_files_to_mergeCOPY11"
          POSX="800"
          POSY="200"
          TYPE="SWF"
          USE="CONVERTWIZ.convertwiz_appkon_tif"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </CONVERTWIZ.convertwiz_appkon_tif1>
        <CONVERTWIZ.convertwiz_merge_pdf_files1
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NAME="CONVERTWIZ.convertwiz_merge_pdf_files"
          NEXT="check_pdfauthorize_necessary"
          POSX="1500"
          POSY="0"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </CONVERTWIZ.convertwiz_merge_pdf_files1>
        <CONVERTWIZ.convertwiz_merge_tif_files1
          COMMENT=""
          ERROR="END"
          NAME="CONVERTWIZ.convertwiz_merge_tif_files"
          NEXT="set_ignore_errorhandling_before_checkin"
          POSX="1000"
          POSY="400"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </CONVERTWIZ.convertwiz_merge_tif_files1>
        <CONVERTWIZ.setup_properties_for_repeated_job1
          COMMENT=""
          ERROR="END"
          NAME="CONVERTWIZ.setup_properties_for_repeated_job"
          NEXT="convertwiz_send_files"
          POSX="500"
          POSY="1000"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </CONVERTWIZ.setup_properties_for_repeated_job1>
        <DEFAULTS/>
        <END
          COMMENT=""
          NAME="END"
          POSX="2900"
          POSY="100"
          TYPE="STOP"
          />
        <IF-THEN-ELSE1
          COMMENT=""
          ELSE="readcustomconfig"
          OPERATOR="-f"
          POSX="300"
          POSY="900"
          PROPERTY="CW_REPEATFILENAME"
          THEN="CONVERTWIZ.setup_properties_for_repeated_job1"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="HORIZONTAL"
            />
        </IF-THEN-ELSE1>
        <MAIN
          BEGIN="MODIFY1"
          ERROR="switch_checkin_method_error"
          LOGLEVEL="I"
          />
        <MAPPING/>
        <MODIFY1
          COMMENT=""
          NEXT="IF-THEN-ELSE1"
          POSX="100"
          POSY="900"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CW_FILETYPES_FOR_DPF4C_CONVERT=",hp,hpgl,"
            CW_REPEATFILENAME="%JOBDIR%/repeat.cfg"
            />
        </MODIFY1>
        <SWITCH_CURRFILETYPE
          CASE:PDF="check_single_file_conversion"
          CASE:TIFF="check_single_file_conversionCOPY1"
          COMMENT=""
          CONNECTION:DEFAULT="DIRECT"
          CONNECTION:PDF="HORIZONTAL"
          CONNECTION:TIFF="DIRECT"
          DEFAULT="END"
          POSX="400"
          POSY="200"
          PROPERTY="DPF4C_COMMON_DEST_FORMAT"
          TYPE="SWITCH"
          />
        <check_for_files_to_merge
          COMMENT=""
          ELSE="check_pdfauthorize_necessary"
          OPERATOR="is file"
          POSX="1300"
          POSY="100"
          PROPERTY="CURRASSOCFILENAME1"
          THEN="CONVERTWIZ.convertwiz_merge_pdf_files1"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </check_for_files_to_merge>
        <check_for_files_to_mergeCOPY11
          COMMENT=""
          ELSE="set_ignore_errorhandling_before_checkin"
          OPERATOR="is file"
          POSX="800"
          POSY="400"
          PROPERTY="CURRASSOCFILENAME1"
          THEN="CONVERTWIZ.convertwiz_merge_tif_files1"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </check_for_files_to_mergeCOPY11>
        <check_for_user_exit_checkin
          COMMENT=""
          ELSE="checkin"
          OPERATOR="eq"
          POSX="2300"
          POSY="200"
          PROPERTY="CONVERTWIZ_SWITCH_DO_USER_PRE_CHECKIN"
          THEN="CONVERTWIZ.Convertwiz_User_Pre_Checkin1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_for_user_exit_checkin>
        <check_for_user_exit_start
          COMMENT=""
          ELSE="convertwiz_convert_files"
          OPERATOR="eq"
          POSX="300"
          POSY="500"
          PROPERTY="CONVERTWIZ_SWITCH_DO_USER_PRE_START"
          THEN="CONVERTWIZ.Convertwiz_User_Pre_Start1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </check_for_user_exit_start>
        <check_pdfauthorize_necessary
          COMMENT=""
          ELSE="switch_checkin_method"
          OPERATOR="contains"
          POSX="1700"
          POSY="100"
          PROPERTY="DPF4C_AUTHORIZE_ACTIVATE"
          THEN="pdfauthorize"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="HORIZONTAL"
            />
        </check_pdfauthorize_necessary>
        <check_single_file_conversion
          COMMENT=""
          ELSE="check_for_files_to_merge"
          OPERATOR="contains"
          POSX="900"
          POSY="0"
          PROPERTY="COUNT_SOURCE_FILES"
          THEN="convert_single_file"
          TYPE="IF-THEN-ELSE"
          VALUE="1"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </check_single_file_conversion>
        <check_single_file_conversionCOPY1
          COMMENT=""
          ELSE="check_for_files_to_mergeCOPY11"
          OPERATOR="contains"
          POSX="600"
          POSY="200"
          PROPERTY="COUNT_SOURCE_FILES"
          THEN="CONVERTWIZ.convertwiz_appkon_tif1"
          TYPE="IF-THEN-ELSE"
          VALUE="1"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="HORIZONTAL"
            />
        </check_single_file_conversionCOPY1>
        <checkin
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NAME="checkin"
          NEXT="sendback"
          POSX="2500"
          POSY="200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="HORIZONTAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </checkin>
        <convert_single_file
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NEXT="check_for_files_to_merge"
          POSX="1100"
          POSY="0"
          TYPE="SWF"
          USE="convertwiz_appkonv"
          >
          <CONNECTIONS
            ERROR="HORIZONTAL"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </convert_single_file>
        <convertwiz_convert_files
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NAME="convertwiz_convert_files"
          NEXT="SWITCH_CURRFILETYPE"
          POSX="200"
          POSY="200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="HORIZONTAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </convertwiz_convert_files>
        <convertwiz_send_files
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NAME="convertwiz_send_files"
          NEXT="END"
          POSX="2100"
          POSY="1300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </convertwiz_send_files>
        <pdfauthorize
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NAME="pdfauthorize"
          NEXT="set_ignore_errorhandling_before_checkin"
          POSX="2200"
          POSY="0"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="HORIZONTAL"
            NEXT="VERTICAL"
            />
          <DEFAULTS
            DPF4C_AUTHORIZE_CHANGE="Y"
            DPF4C_AUTHORIZE_ENCRYPTION128="Y"
            DPF4C_AUTHORIZE_LOWRES="Y"
            />
          <MAPPING/>
        </pdfauthorize>
        <readcustomconfig
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.readcustomconfig"
          NEXT="check_for_user_exit_start"
          POSX="300"
          POSY="700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            DPF4C_CUSTOM_CONFIG="dpf4convertwiz::main"
            />
        </readcustomconfig>
        <sendback
          COMMENT=""
          ERROR="switch_checkin_method_error"
          NAME="sendback"
          NEXT="END"
          POSX="2700"
          POSY="200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="HORIZONTAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </sendback>
        <set_ignore_errorhandling_before_checkin
          COMMENT=""
          NEXT="switch_checkin_method"
          POSX="1900"
          POSY="500"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="HORIZONTAL"
            />
          <SET
            CONVERTWIZ_IGNORE_ERROR_HANDLING="Y"
            />
        </set_ignore_errorhandling_before_checkin>
        <switch_checkin_method
          COMMENT=""
          ELSE="convertwiz_send_files"
          OPERATOR="contains"
          POSX="2100"
          POSY="200"
          PROPERTY="CONVERTWIZ_CHECKIN_METHOD"
          THEN="check_for_user_exit_checkin"
          TYPE="IF-THEN-ELSE"
          VALUE="sendback"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </switch_checkin_method>
        <switch_checkin_method_error
          COMMENT=""
          ELSE="switch_checkin_method"
          OPERATOR="eq"
          POSX="1200"
          POSY="1300"
          PROPERTY="CONVERTWIZ_IGNORE_ERROR_HANDLING"
          THEN="END"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </switch_checkin_method_error>
      </convertwiz>
    </workflows>
  </config>
</DPF>
