<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <BCXDC.asynccall_ext
        COMMENT=""
        DPFINT-Customer="0"
        DPFINT-Interactive="0"
        DPFINT-Type="WorkflowDescription"
        NAME="asynccall_ext"
        PROJECT="BCXDC"
        VERSION="$Id: wf-asynccall_ext.xml,v 1.6 2010/05/03 12:39:40 dh Exp $"
        >
        <BCXDC.UserPostBcxdcAsynccallExt
          COMMENT=""
          ERROR="get_jobstateC"
          NEXT="BCXDC.createcheckinparams1"
          POSX="1000"
          POSY="1500"
          TYPE="SWF"
          USE="BCXDC.UserPostBcxdcAsynccallExt"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.UserPostBcxdcAsynccallExt>
        <BCXDC.UserPostCheckinBcxdcAsynccallExt
          COMMENT=""
          ERROR="END"
          NEXT="END"
          POSX="1400"
          POSY="1500"
          TYPE="SWF"
          USE="BCXDC.UserPostCheckinBcxdcAsynccallExt"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.UserPostCheckinBcxdcAsynccallExt>
        <BCXDC.UserPreBcxdcAsynccallExt
          COMMENT=""
          ERROR="get_jobstateC"
          NEXT="bcxdc.buildrli1"
          POSX="800"
          POSY="200"
          TYPE="SWF"
          USE="BCXDC.UserPreBcxdcAsynccallExt"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.UserPreBcxdcAsynccallExt>
        <BCXDC.createcheckinparams1
          COMMENT=""
          ERROR="END"
          NAME="BCXDC.createcheckinparams"
          NEXT="plm_checkin_files_sap_directC"
          POSX="1200"
          POSY="1200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.createcheckinparams1>
        <BCXDC.initandmapvalues
          COMMENT=""
          ERROR="END"
          NEXT="check_for_user_pre_bcxdc_asynccallex"
          POSX="600"
          POSY="400"
          TYPE="SWF"
          USE="BCXDC.initandmapvalues"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.initandmapvalues>
        <DEFAULTS/>
        <DPF4CONVERT.ConvertDocuments
          COMMENT=""
          ERROR="get_jobstateC"
          NEXT="MODIFY_Filenames_for_checkin"
          POSX="1000"
          POSY="800"
          TYPE="SWF"
          USE="DPF4CONVERT.ConvertDocuments"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.ConvertDocuments>
        <DPF4CONVERT.readcustomconfig
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.readcustomconfig"
          NEXT="BCXDC.initandmapvalues"
          POSX="400"
          POSY="400"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            DPF4C_CUSTOM_CONFIG="bcxdc::asynccall_ext"
            />
        </DPF4CONVERT.readcustomconfig>
        <END
          COMMENT=""
          NAME="END"
          POSX="1800"
          POSY="800"
          TYPE="STOP"
          />
        <IF-THEN-ELSE1COPY
          COMMENT=""
          ELSE="END"
          OPERATOR="eq"
          POSX="1600"
          POSY="1300"
          PROPERTY="SWITCH_DO_USER_POSTCHECKIN_BCXDC_ASYNCCALL"
          THEN="BCXDC.UserPostCheckinBcxdcAsynccallExt"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </IF-THEN-ELSE1COPY>
        <MAIN
          BEGIN="setup_asynccall"
          NAME=""
          />
        <MAPPING/>
        <MODIFY1
          COMMENT=""
          NEXT="DPF4CONVERT.ConvertDocuments"
          POSX="1000"
          POSY="600"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CURRFILENAME="%CURRRLIFILENAME%"
            SWITCH_SKIP_COPY_SOURCES="Y"
            TARGETDIR="%JOBDIR%"
            TARGET_FOLDER="%JOBDIR%"
            />
        </MODIFY1>
        <MODIFY_Filenames_for_checkin
          COMMENT=""
          NEXT="check_for_user_post_bcxdc_asynccallCOPY"
          POSX="1000"
          POSY="1000"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CURRFILENAME="%DPF4C_COMMON_OUTFILE1%"
            TARGETDIR="%ORI_TARGETDIR%"
            />
        </MODIFY_Filenames_for_checkin>
        <bcxdc.buildrli1
          COMMENT=""
          ERROR="get_jobstateC"
          NAME="bcxdc.buildrli"
          NEXT="MODIFY1"
          POSX="1000"
          POSY="400"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </bcxdc.buildrli1>
        <check_for_user_post_bcxdc_asynccallCOPY
          COMMENT=""
          ELSE="BCXDC.createcheckinparams1"
          OPERATOR="eq"
          POSX="1000"
          POSY="1200"
          PROPERTY="SWITCH_DO_USER_POST_BCXDC_ASYNCCALL"
          THEN="BCXDC.UserPostBcxdcAsynccallExt"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_for_user_post_bcxdc_asynccallCOPY>
        <check_for_user_pre_bcxdc_asynccallex
          COMMENT=""
          ELSE="bcxdc.buildrli1"
          OPERATOR="eq"
          POSX="800"
          POSY="400"
          PROPERTY="SWITCH_DO_USER_PRE_BCXDC_ASYNCCALLEXT"
          THEN="BCXDC.UserPreBcxdcAsynccallExt"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_for_user_pre_bcxdc_asynccallex>
        <check_for_zero_conv
          COMMENT=""
          ELSE="modify_return_single_errors"
          OPERATOR="eq"
          POSX="1900"
          POSY="1000"
          PROPERTY="ZERO_CONV_ERRORS"
          THEN="modify_return_single_errorsCOPY"
          TYPE="IF-THEN-ELSE"
          VALUE="X"
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="VERTICAL"
            />
        </check_for_zero_conv>
        <get_jobstateC
          COMMENT=""
          ERROR="END"
          NAME="get_jobstate"
          NEXT="check_for_zero_conv"
          POSX="1900"
          POSY="800"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </get_jobstateC>
        <modify_return_single_errors
          COMMENT=""
          NEXT="send_error_message_sap_direct"
          POSX="1700"
          POSY="1100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="HORIZONTAL"
            />
          <SET
            CHECK_DPF4C_COMMON_OUTFILES_FOR_SEND_OK_AND_ERROR="Y"
            />
        </modify_return_single_errors>
        <modify_return_single_errorsCOPY
          COMMENT=""
          NEXT="send_error_message_sap_direct"
          POSX="2100"
          POSY="1100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="HORIZONTAL"
            />
          <SET
            CHECK_DPF4C_COMMON_OUTFILES_FOR_SEND_OK_AND_ERROR="N"
            />
        </modify_return_single_errorsCOPY>
        <plm_checkin_files_sap_directC
          COMMENT=""
          ERROR="get_jobstateC"
          NAME="plm_checkin_files_sap_direct"
          NEXT="IF-THEN-ELSE1COPY"
          POSX="1400"
          POSY="1200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </plm_checkin_files_sap_directC>
        <send_error_message_sap_direct
          COMMENT=""
          ERROR="END"
          NAME="send_error_message_sap_direct"
          NEXT="END"
          POSX="1900"
          POSY="1200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS>
            <CADRFC_DIRECTORY
              val="%PLSSV%/sapserv/bin_%PLS_OSFULLNAME%"
              />
            <CHECK_DPF4C_COMMON_OUTFILES_FOR_SEND_OK_AND_ERROR
              val="N"
              />
            <SAPRFC_FILE
              val="%PLSSV%/sapserv/conf/saprfc.ini"
              />
            <USE_JSAPCLI
              val="Y"
              />
          </DEFAULTS>
          <MAPPING/>
        </send_error_message_sap_direct>
        <setup_asynccall
          COMMENT=""
          NEXT="DPF4CONVERT.readcustomconfig"
          POSX="200"
          POSY="400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DESTINATIONFORMAT="%TARGETFORMAT%"
            JOBNAME="SPOOLREQUEST=%SPOOLREQUEST%"
            ORI_TARGETDIR="%TARGETDIR%"
            />
        </setup_asynccall>
      </BCXDC.asynccall_ext>
    </workflows>
  </config>
</DPF>
