<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <BCXDC.bcxdcsubconvert
        COMMENT=""
        DPFINT-Customer="0"
        DPFINT-Interactive="0"
        DPFINT-Type="WorkflowDescription"
        NAME="Bcxdcsubconvert"
        PROJECT="BCXDC"
        VERSION="$Id: wf-bcxdcsubconvert.xml,v 1.2 2009/11/27 13:45:44 dh Exp $"
        >
        <BCXDC.UserPreBcxdcConvert1
          COMMENT=""
          ERROR="END"
          NEXT="setup_conversion_params"
          POSX="700"
          POSY="500"
          TYPE="SWF"
          USE="BCXDC.UserPreBcxdcConvert"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.UserPreBcxdcConvert1>
        <BCXDC.initandmapvalues
          COMMENT=""
          ERROR="END"
          NEXT="check_switch_do_user_bcxdc_pre_convert"
          POSX="500"
          POSY="300"
          TYPE="SWF"
          USE="BCXDC.initandmapvalues"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.initandmapvalues>
        <BCXDC.user_post_bcxdc_convert1
          COMMENT=""
          ERROR="END"
          NEXT="FileTransfer.copyFiles"
          POSX="3200"
          POSY="500"
          TYPE="SWF"
          USE="BCXDC.user_post_bcxdc_convert"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </BCXDC.user_post_bcxdc_convert1>
        <DEFAULTS/>
        <DPF4CONVERT.getfiletypefromname1COPY
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.getfiletypefromname"
          NEXT="IF-THEN-ELSE1COPY"
          POSX="1600"
          POSY="500"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.getfiletypefromname1COPY>
        <DPF4CONVERT.pdfpostproc1
          COMMENT=""
          ERROR="END"
          NEXT="check_switch_do_user_bcxdc_post_convert"
          POSX="2900"
          POSY="500"
          TYPE="SWF"
          USE="DPF4CONVERT.pdfpostproc"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfpostproc1>
        <DPF4CONVERT.prnconv
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.prnconv"
          NEXT="check_for_pdf"
          POSX="2700"
          POSY="500"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS
            SCALETYPE="fit"
            >
            <AUTOROTATE
              val="Y"
              />
            <PRINTERDIR
              val="%DPFSRV%/conf/prnconv"
              />
            <SCALEFACTOR
              val="1.0"
              />
            <SCALETYPE
              val="original"
              />
          </DEFAULTS>
          <MAPPING
            SCALETYPE="fit"
            />
        </DPF4CONVERT.prnconv>
        <END
          COMMENT=""
          NAME="END"
          POSX="200"
          POSY="100"
          TYPE="STOP"
          />
        <FileTransfer.copyFiles
          COMMENT=""
          ERROR="END"
          NAME="FileTransfer.copyFiles"
          NEXT="END"
          POSX="3300"
          POSY="300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS>
            <COPY_DEBUG
              val="N"
              />
            <WU_ENABLE_DEBUG_LOOP
              val="N"
              />
          </DEFAULTS>
          <MAPPING
            COPY_SOURCE_PROPERTIES="CURRFILENAME PARFILENAME"
            COPY_TARGET_PROPERTIES="TARGETFILENAME TARGETPARFILENAME"
            />
        </FileTransfer.copyFiles>
        <IF-THEN-ELSE1COPY
          COMMENT=""
          ELSE="dpf4c_appkonv1COPYCOPY"
          OPERATOR="eq"
          POSX="1800"
          POSY="500"
          PROPERTY="MAPPED_FILE_NAME"
          THEN="MODIFY_appkonv_sectionCOPY"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="DIRECT"
            />
        </IF-THEN-ELSE1COPY>
        <MAIN
          BEGIN="MODIFY_CONVERSION_PARAMS"
          NAME=""
          />
        <MAPPING/>
        <MODIFY_CONVERSION_PARAMS
          COMMENT=""
          NEXT="BCXDC.initandmapvalues"
          POSX="300"
          POSY="300"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            SAVE_ORI_TARGETFORMAT="%TARGETFORMAT%"
            SUBJOBIDEXTERN="notdefined"
            />
        </MODIFY_CONVERSION_PARAMS>
        <MODIFY_appkonv_sectionCOPY
          COMMENT=""
          NEXT="dpf4c_appkonv1COPYCOPY"
          POSX="1800"
          POSY="700"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="VERTICAL"
            />
          <SET
            AK_SECTION=".%CURRFILETYPE%"
            />
        </MODIFY_appkonv_sectionCOPY>
        <check_for_pdf
          COMMENT=""
          ELSE="check_switch_do_user_bcxdc_post_convert"
          OPERATOR="eq"
          POSX="2800"
          POSY="300"
          PROPERTY="CURRFILETYPE"
          THEN="DPF4CONVERT.pdfpostproc1"
          TYPE="IF-THEN-ELSE"
          VALUE="pdf"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="VERTICAL"
            />
        </check_for_pdf>
        <check_for_running_in_prnconv
          COMMENT=""
          ELSE="restore_targetformat"
          OPERATOR="eq"
          POSX="2200"
          POSY="300"
          PROPERTY="TARGETFORMAT"
          THEN="check_for_running_in_prnconv2"
          TYPE="IF-THEN-ELSE"
          VALUE="%SAVE_ORI_TARGETFORMAT%"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </check_for_running_in_prnconv>
        <check_for_running_in_prnconv2
          COMMENT=""
          ELSE="check_for_pdf"
          OPERATOR="eq"
          POSX="2400"
          POSY="300"
          PROPERTY="ACTIVATE_PRNCONV"
          THEN="restore_targetformat"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="HORIZONTAL"
            />
        </check_for_running_in_prnconv2>
        <check_if_currfiletype_is_setCOPY
          COMMENT=""
          ELSE="dpf4c_appkonv1COPYCOPY"
          OPERATOR="eq"
          POSX="1600"
          POSY="300"
          PROPERTY="CURRFILETYPE"
          THEN="DPF4CONVERT.getfiletypefromname1COPY"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_if_currfiletype_is_setCOPY>
        <check_if_pdfa_is_wantedCOPY
          COMMENT=""
          ELSE="check_if_currfiletype_is_setCOPY"
          OPERATOR="eq"
          POSX="1300"
          POSY="300"
          PROPERTY="CREATE_PDFA"
          THEN="set_pdfa_flagsCOPY"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="HORIZONTAL"
            />
        </check_if_pdfa_is_wantedCOPY>
        <check_switch_do_user_bcxdc_post_convert
          COMMENT=""
          ELSE="FileTransfer.copyFiles"
          OPERATOR="eq"
          POSX="3100"
          POSY="300"
          PROPERTY="SWITCH_DO_USER_POST_BCXDC_CONVERT"
          THEN="BCXDC.user_post_bcxdc_convert1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="HORIZONTAL"
            />
        </check_switch_do_user_bcxdc_post_convert>
        <check_switch_do_user_bcxdc_pre_convert
          COMMENT=""
          ELSE="setup_conversion_params"
          OPERATOR="contains"
          POSX="700"
          POSY="300"
          PROPERTY="SWITCH_DO_USER_PRE_BCXDC_CONVERT"
          THEN="BCXDC.UserPreBcxdcConvert1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_switch_do_user_bcxdc_pre_convert>
        <dpf4c_appkonv1COPYCOPY
          COMMENT=""
          ERROR="END"
          NEXT="check_for_running_in_prnconv"
          POSX="2000"
          POSY="300"
          TYPE="SWF"
          USE="dpf4c_appkonv"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </dpf4c_appkonv1COPYCOPY>
        <modify_convert_paramsCOPY
          COMMENT=""
          NEXT="check_if_pdfa_is_wantedCOPY"
          POSX="1100"
          POSY="300"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPF4C_SWITCH_APPKONV="Y"
            />
        </modify_convert_paramsCOPY>
        <restore_targetformat
          COMMENT=""
          NEXT="DPF4CONVERT.prnconv"
          POSX="2500"
          POSY="500"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            TARGETFORMAT="%SAVE_ORI_TARGETFORMAT%"
            />
        </restore_targetformat>
        <set_pdfa_flagsCOPY
          COMMENT=""
          NEXT="check_if_currfiletype_is_setCOPY"
          POSX="1400"
          POSY="500"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="HORIZONTAL"
            />
          <SET
            DESTINATION_FORMAT_QUALITY="pdfa"
            DPF4C_ENABLE_PDFCHECK="Y"
            DPF4C_SWITCH_MODIFY="Y"
            ENABLE_PDF_ADJUST_PROCESS="Y"
            ENABLE_PDF_CONVERT="Y"
            />
        </set_pdfa_flagsCOPY>
        <setup_conversion_params
          COMMENT=""
          NEXT="modify_convert_paramsCOPY"
          POSX="900"
          POSY="300"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPF4C_COMMON_DEST_FORMAT="pdf"
            TARGETFORMAT="pdf"
            />
        </setup_conversion_params>
      </BCXDC.bcxdcsubconvert>
    </workflows>
  </config>
</DPF>
