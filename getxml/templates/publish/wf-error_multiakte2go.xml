<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <Publish.error_multiakte2go
        COMMENT="Publish error workflow "
        DPFINT-Customer="0"
        DPFINT-Icon="doc://:/wf.gif"
        DPFINT-Interactive="0"
        DPFINT-Type="WorkflowDescription"
        NAME="error (Multiakte 2 Go)"
        PROJECT="Publish"
        VERSION="$Id: wf-error_multiakte2go.xml,v 1.7 2011/05/12 17:02:51 sek Exp $"
        >
        <DEFAULTS/>
        <END
          COMMENT=""
          NAME="END"
          POSX="500"
          POSY="400"
          TYPE="STOP"
          />
        <FileSystem.WriteFile1
          COMMENT=""
          ERROR="END"
          NAME="FileSystem.WriteFile"
          NEXT="IfMailCOPY"
          POSX="300"
          POSY="200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            FILE="%ERROR_FILE%"
            Line1="DPF Error %ERR_EXITCODE%"
            Line2="%ERR_REASON%"
            WU_ENABLE_DEBUG_LOOP="N"
            />
        </FileSystem.WriteFile1>
        <FileTransfer.xcopyDir1COPY
          COMMENT=""
          ERROR="END"
          NAME="FileTransfer.xcopyDir"
          NEXT="IfAsyncClientCallCOPYCOPYCOPY"
          POSX="700"
          POSY="400"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            SOURCEDIR="%ROOTDIR%"
            TARGETDIR="%JOBDIR%/%GUID%"
            />
        </FileTransfer.xcopyDir1COPY>
        <IfAsyncClientCallCOPYCOPYCOPY
          COMMENT=""
          ELSE="END"
          OPERATOR="eq"
          POSX="900"
          POSY="200"
          PROPERTY="DO_SAP_REPLY"
          THEN="Sap.executeSapFunction1COPY"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </IfAsyncClientCallCOPYCOPYCOPY>
        <IfMailCOPY
          COMMENT="soll eine EMail gesendet werden?"
          ELSE="FileTransfer.xcopyDir1COPY"
          OPERATOR="contains"
          POSX="500"
          POSY="200"
          PROPERTY="OUTPUT"
          THEN="Mail.sendMail1COPY"
          TYPE="IF-THEN-ELSE"
          VALUE="Mail"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </IfMailCOPY>
        <MAIN
          BEGIN="FileSystem.WriteFile1"
          ERROR="END"
          />
        <MAPPING/>
        <Mail.sendMail1COPY
          COMMENT=""
          ERROR="END"
          NAME="Mail.sendMail"
          NEXT="FileTransfer.xcopyDir1COPY"
          POSX="700"
          POSY="200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS>
            <WU_ENABLE_DEBUG_LOOP
              val="N"
              />
          </DEFAULTS>
          <MAPPING
            MAIL_EXPAND_TEXT="Y"
            MAIL_FROM="%PLS_SENDER%"
            MAIL_SMTP="%PLS_MAIL_SMTP%"
            MAIL_SUBJECT="%OUTPUT_MAIL_ERROR_SUBJECT%"
            MAIL_TEXT="%OUTPUT_MAIL_ERROR_TEXT%"
            MAIL_TO="%PLS_SENDER%"
            />
        </Mail.sendMail1COPY>
        <Sap.executeSapFunction1COPY
          COMMENT=""
          ERROR="END"
          NAME="Sap.executeSapFunction"
          NEXT="END"
          POSX="1100"
          POSY="200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            FunctionCall="%SAP_REPLY_CALL_ERROR%"
            />
        </Sap.executeSapFunction1COPY>
      </Publish.error_multiakte2go>
    </workflows>
  </config>
</DPF>
