<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <DPF4CONVERT.ConvertDocuments
        COMMENT=""
        DPFINT-Customer="0"
        DPFINT-Interactive="0"
        DPFINT-Type="WorkflowDescription"
        NAME="ConvertDocuments"
        PROJECT="DPF4CONVERT"
        VERSION="$Id: wf-convertdocuments.xml,v 1.16 2016/09/19 08:00:21 kig Exp $"
        >
        <DEFAULTS/>
        <DPF4CONVERT.ConvertDocumentsConvert1
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="DPF4CONVERT.Convertdocuments_user_pre_processing"
          POSX="700"
          POSY="1100"
          TYPE="SWF"
          USE="DPF4CONVERT.ConvertDocumentsConvert"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.ConvertDocumentsConvert1>
        <DPF4CONVERT.ConvertDocumentsCopySource
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="DPF4CONVERT.ConvertDocumentsConvert1"
          POSX="900"
          POSY="900"
          TYPE="SWF"
          USE="DPF4CONVERT.ConvertDocumentsCopySource"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.ConvertDocumentsCopySource>
        <DPF4CONVERT.ConvertDocumentsInit
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="check_for_skip_copy_sources"
          POSX="700"
          POSY="700"
          TYPE="SWF"
          USE="DPF4CONVERT.ConvertDocumentsInit"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.ConvertDocumentsInit>
        <DPF4CONVERT.Convertdocuments_user_pre_processing
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="switch_processing"
          POSX="700"
          POSY="1300"
          TYPE="SWF"
          USE="DPF4CONVERT.Convertdocuments_user_pre_processing"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.Convertdocuments_user_pre_processing>
        <DPF4CONVERT.Convertdocuments_user_pre_result1
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="DPF4CONVERT.copyrlitoresultname"
          POSX="500"
          POSY="1900"
          TYPE="SWF"
          USE="DPF4CONVERT.Convertdocuments_user_pre_result"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.Convertdocuments_user_pre_result1>
        <DPF4CONVERT.Convertdocuments_user_pre_result1COPY
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="DPF4CONVERT.handle_droppath1"
          POSX="900"
          POSY="1900"
          TYPE="SWF"
          USE="DPF4CONVERT.Convertdocuments_user_pre_result"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.Convertdocuments_user_pre_result1COPY>
        <DPF4CONVERT.Convertdocumentsprocessmerge
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="DPF4CONVERT.Convertdocuments_user_pre_result1COPY"
          POSX="900"
          POSY="1700"
          TYPE="SWF"
          USE="DPF4CONVERT.Convertdocumentsprocessmerge"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.Convertdocumentsprocessmerge>
        <DPF4CONVERT.copyrlitoresultname
          COMMENT=""
          ERROR="dpf4c_error1"
          NAME="DPF4CONVERT.copyrlitoresultname"
          NEXT="END"
          POSX="500"
          POSY="2100"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            TARGETDIR="%TARGET_FOLDER%"
            />
        </DPF4CONVERT.copyrlitoresultname>
        <DPF4CONVERT.handle_droppath1
          COMMENT=""
          ERROR="dpf4c_error1"
          NEXT="net_put_data"
          POSX="900"
          POSY="2300"
          TYPE="SWF"
          USE="DPF4CONVERT.handle_droppath"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.handle_droppath1>
        <END
          COMMENT=""
          NAME="END"
          POSX="300"
          POSY="4200"
          TYPE="STOP"
          />
        <IF-RLI
          COMMENT="Is it a rli file?"
          ELSE="MODIFY1"
          OPERATOR="ends with"
          POSX="700"
          POSY="500"
          PROPERTY="CURRRLIFILENAME"
          THEN="DPF4CONVERT.ConvertDocumentsInit"
          TYPE="IF-THEN-ELSE"
          VALUE="rli"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </IF-RLI>
        <MAIN
          BEGIN="setupStart"
          NAME=""
          />
        <MAPPING/>
        <MODIFY1
          COMMENT=""
          NEXT="dpf4c_error1"
          POSX="900"
          POSY="500"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="VERTICAL"
            />
          <SET
            ERR_REASON="No rli file specified"
            />
        </MODIFY1>
        <MODIFY1COPY
          COMMENT=""
          NEXT="dpf4c_error1"
          POSX="1100"
          POSY="1500"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="VERTICAL"
            />
          <SET
            ERR_REASON="Error detecting processing type (CDPROCESSINGTYPE)!"
            />
        </MODIFY1COPY>
        <MODIFY2
          COMMENT=""
          NEXT="removeInputTmpDir"
          POSX="900"
          POSY="3100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPFJOBPROGRESS="99"
            />
        </MODIFY2>
        <MODIFY3
          COMMENT=""
          NEXT="END"
          POSX="900"
          POSY="3500"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPFJOBPROGRESS="100"
            />
        </MODIFY3>
        <ProcessPDFFiles
          COMMENT=""
          ERROR="dpf4c_error1"
          NAME="Rli.processLines"
          NEXT="DPF4CONVERT.Convertdocuments_user_pre_result1"
          POSX="500"
          POSY="1700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS
            DpfDebugSubJobs="Y"
            SubProcess="DPF4CONVERT.ConvertdocumentssubprocessingPDF"
            >
            <RlicCurrFileName
              val="CurrFileName"
              />
            <RlicJobName
              val="JobName"
              />
            <SubProcess
              val="Rli.processLinesHelper"
              />
          </DEFAULTS>
          <MAPPING
            FilterOperator="-f"
            RlicFilter="CurrFileName"
            SubProcess="DPF4CONVERT.ConvertdocumentssubprocessingPDF"
            />
        </ProcessPDFFiles>
        <ProcessPDFFilesForPrint
          COMMENT=""
          ERROR="dpf4c_error1"
          NAME="Rli.processLines"
          NEXT="DPF4CONVERT.Convertdocuments_user_pre_result1"
          POSX="700"
          POSY="1700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS
            DpfDebugSubJobs="Y"
            SubProcess="DPF4CONVERT.ConvertdocumentssubprocessingPrint"
            >
            <RlicCurrFileName
              val="CurrFileName"
              />
            <RlicJobName
              val="JobName"
              />
            <SubProcess
              val="Rli.processLinesHelper"
              />
          </DEFAULTS>
          <MAPPING
            FilterOperator="-f"
            RlicFilter="CurrFileName"
            SubProcess="DPF4CONVERT.ConvertdocumentssubprocessingPrint"
            />
        </ProcessPDFFilesForPrint>
        <Rli.fillRliColumn1
          COMMENT=""
          ERROR="END"
          NAME="Rli.fillRliColumn"
          NEXT="IF-RLI"
          POSX="700"
          POSY="300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS>
            <Replacement
              val="_"
              />
            <UseEval
              val="N"
              />
            <WuEnableDebugLoop
              val="N"
              />
          </DEFAULTS>
          <MAPPING
            FillColumn="Beschreibung"
            FillData="%%CurrFileName%%"
            />
        </Rli.fillRliColumn1>
        <build_rli
          COMMENT=""
          ERROR="END"
          NAME="Rli.buildrli"
          NEXT="reset_get_files"
          POSX="300"
          POSY="600"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            FILE_LIST_PARAM="DPF_SRV_GET_FILES"
            ValueSets="%BUILDRLI_VALUESETS%"
            origfiles_FillColumn="ORIGFILENAME"
            origfiles_FillDataParams="%ORIGFILENAME_LIST%"
            />
        </build_rli>
        <check_file_list
          COMMENT=""
          ELSE="set_currrlifilename"
          OPERATOR="ne"
          POSX="300"
          POSY="100"
          PROPERTY="DPF_SRV_GET_FILES"
          THEN="check_origfilenames_available"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_file_list>
        <check_for_skip_copy_sources
          COMMENT=""
          ELSE="DPF4CONVERT.ConvertDocumentsCopySource"
          OPERATOR="is true"
          POSX="700"
          POSY="900"
          PROPERTY="SWITCH_SKIP_COPY_SOURCES"
          THEN="DPF4CONVERT.ConvertDocumentsConvert1"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_for_skip_copy_sources>
        <check_origfilenames_available
          COMMENT=""
          ELSE="build_rli"
          OPERATOR="ne"
          POSX="300"
          POSY="300"
          PROPERTY="ORIGFILENAME_LIST"
          THEN="reset_valuesets"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_origfilenames_available>
        <dpf4c_error1
          COMMENT=""
          ERROR="END"
          NEXT="END"
          POSX="1300"
          POSY="2100"
          TYPE="SWF"
          USE="dpf4c_error"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </dpf4c_error1>
        <net_put_data
          COMMENT=""
          ELSE="MODIFY2"
          OPERATOR="eq"
          POSX="900"
          POSY="2700"
          PROPERTY="DPF4C_NET_PUT_DATA"
          THEN="sendback"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="DIRECT"
            />
        </net_put_data>
        <removeInputTmpDir
          COMMENT=""
          ERROR="END"
          NAME="FileSystem.deleteFile"
          NEXT="MODIFY3"
          POSX="900"
          POSY="3300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            DeleteFiles="SOURCEDIR"
            />
        </removeInputTmpDir>
        <reset_get_files
          COMMENT=""
          NEXT="IF-RLI"
          POSX="300"
          POSY="800"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPF_SRV_GET_FILES=""
            SWITCH_SKIP_COPY_SOURCES="1"
            />
        </reset_get_files>
        <reset_valuesets
          COMMENT=""
          NEXT="build_rli"
          POSX="400"
          POSY="400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            BUILDRLI_VALUESETS="origfiles"
            RlicBookmarkText="ORIGFILENAME"
            />
        </reset_valuesets>
        <sendback
          COMMENT=""
          ERROR="dpf4c_error1"
          NAME="sendback"
          NEXT="MODIFY2"
          POSX="1100"
          POSY="2900"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="VERTICAL"
            NEXT="DIRECT"
            />
          <DEFAULTS
            SOURCE=""
            TARGETFILE=""
            >
            <IOR
              val="%ORIGFILESERVERIOR%"
              />
            <OVERWRITE
              val="Y"
              />
            <SOURCE
              val="%CURRFILENAME%"
              />
            <TARGETFILE
              val="%TARGETFILENAME%"
              />
          </DEFAULTS>
          <MAPPING
            COMPLETEEXTENSION="N"
            SOURCE=""
            SOURCE_FILE_PROPERTIES="DPF4C_COMMON_OUTFILEpdf"
            TARGETDIR="."
            TARGETFILE="%TARGETFILENAME.fileName%"
            />
        </sendback>
        <set_currrlifilename
          COMMENT="setup RLI filename"
          NEXT="Rli.fillRliColumn1"
          POSX="700"
          POSY="100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CURRRLIFILENAME="%CURRFILENAME%"
            />
        </set_currrlifilename>
        <setupStart
          COMMENT="setup RLI filename"
          NEXT="check_file_list"
          POSX="100"
          POSY="100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            BUILDRLI_VALUESETS=""
            DPF4C_CUSTOM_CONFIG="dpf4convert::convertdocuments"
            />
        </setupStart>
        <switch_processing
          CASE:merge="DPF4CONVERT.Convertdocumentsprocessmerge"
          CASE:pdf="ProcessPDFFiles"
          CASE:print="ProcessPDFFilesForPrint"
          COMMENT=""
          CONNECTION:DEFAULT="DIRECT"
          CONNECTION:merge="DIRECT"
          CONNECTION:pdf="DIRECT"
          CONNECTION:print="DIRECT"
          DEFAULT="MODIFY1COPY"
          POSX="700"
          POSY="1500"
          PROPERTY="CDPROCESSINGTYPE"
          TYPE="SWITCH"
          />
      </DPF4CONVERT.ConvertDocuments>
    </workflows>
  </config>
</DPF>
