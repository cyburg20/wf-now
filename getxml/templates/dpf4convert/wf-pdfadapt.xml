<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <DPF4CONVERT.pdfadapt
        COMMENT="The DPF-process PDFADAPT checks a PDF-file if it conforms to a PDF-profile. It can adjust or convert the PDF-file if necessary and requested."
        DPFINT-Customer="0"
        DPFINT-Interactive="0"
        DPFINT-Type="WorkflowDescription"
        NAME="Pdfadapt - check/adjust a PDF file conforming a PDF-profile"
        PROJECT="DPF4CONVERT"
        VERSION="$Id: wf-pdfadapt.xml,v 1.22 2017/02/13 13:31:27 kig Exp $"
        >
        <CheckAcceptResult
          COMMENT=""
          ELSE="SetNotAccepted"
          OPERATOR="contains"
          POSX="700"
          POSY="2400"
          PROPERTY="PDFADAPT_STATES_ACCEPT_RESULT"
          THEN="SetAccepted"
          TYPE="IF-THEN-ELSE"
          VALUE="%PDFADAPT_STATUS%"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </CheckAcceptResult>
        <CheckAttachments
          COMMENT=""
          ELSE="check_alternate_profile"
          OPERATOR="contains"
          POSX="900"
          POSY="1200"
          PROPERTY="PDFADAPT_STATES_CHECK_ATTACHMENTS"
          THEN="DPF4CONVERT.pdfadapt_check_attachments"
          TYPE="IF-THEN-ELSE"
          VALUE="%PDFADAPT_STATUS%"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="VERTICAL"
            />
        </CheckAttachments>
        <CheckEnablePdfadapt
          COMMENT=""
          ELSE="END"
          OPERATOR="eq"
          POSX="700"
          POSY="0"
          PROPERTY="ENABLE_PDFADAPT"
          THEN="SetVersion"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </CheckEnablePdfadapt>
        <CheckFileConverted
          COMMENT=""
          ELSE="CheckAcceptResult"
          OPERATOR="eq"
          POSX="1200"
          POSY="2100"
          PROPERTY="PDFADAPT_FILE_MODIFIED"
          THEN="DPF4CONVERT.pdfadapt_checkadjust_final"
          TYPE="IF-THEN-ELSE"
          VALUE="C"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="VERTICAL"
            />
        </CheckFileConverted>
        <CheckFileModified
          COMMENT=""
          ELSE="CheckAcceptResult"
          OPERATOR="ne"
          POSX="300"
          POSY="2100"
          PROPERTY="PDFADAPT_FILE_MODIFIED"
          THEN="SetCheckPositionFinal"
          TYPE="IF-THEN-ELSE"
          VALUE="N"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </CheckFileModified>
        <CheckRequestAdjust
          COMMENT=""
          ELSE="CheckRequestConvert"
          OPERATOR="contains"
          POSX="300"
          POSY="1000"
          PROPERTY="PDFADAPT_STATES_REQUEST_ADJUST"
          THEN="DPF4CONVERT.pdfadapt_adjust1"
          TYPE="IF-THEN-ELSE"
          VALUE="%PDFADAPT_STATUS%"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </CheckRequestAdjust>
        <CheckRequestConvert
          COMMENT=""
          ELSE="CheckFileModified"
          OPERATOR="contains"
          POSX="100"
          POSY="1600"
          PROPERTY="PDFADAPT_STATES_REQUEST_CONVERT"
          THEN="ResetCurrfilename"
          TYPE="IF-THEN-ELSE"
          VALUE="%PDFADAPT_STATUS%"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </CheckRequestConvert>
        <CheckRequestConvertCallas
          COMMENT=""
          ELSE="CheckAcceptResult"
          OPERATOR="contains"
          POSX="900"
          POSY="1600"
          PROPERTY="PDFADAPT_STATES_REQUEST_CONVERT"
          THEN="check_for_attachments"
          TYPE="IF-THEN-ELSE"
          VALUE="%PDFADAPT_STATUS%"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </CheckRequestConvertCallas>
        <CheckUseCallas
          COMMENT=""
          ELSE="DPF4CONVERT.pdfadapt_checkadjust_first"
          OPERATOR="eq"
          POSX="700"
          POSY="800"
          PROPERTY="PDFADAPT_USE_CALLASSDK"
          THEN="DPF4CONVERT.pdfadapt_check1"
          TYPE="IF-THEN-ELSE"
          VALUE="N"
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="VERTICAL"
            />
        </CheckUseCallas>
        <DEFAULTS/>
        <DPF4CONVERT.pdfadapt_adjust1
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_adjust"
          NEXT="CheckRequestConvert"
          POSX="100"
          POSY="1000"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_adjust1>
        <DPF4CONVERT.pdfadapt_check1
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_check"
          NEXT="CheckRequestAdjust"
          POSX="500"
          POSY="1000"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_check1>
        <DPF4CONVERT.pdfadapt_check2
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_check"
          NEXT="CheckAcceptResult"
          POSX="500"
          POSY="2300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_check2>
        <DPF4CONVERT.pdfadapt_check_attachments
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_check_attachments"
          NEXT="check_attachments_modified"
          POSX="1000"
          POSY="400"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="VERTICAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_check_attachments>
        <DPF4CONVERT.pdfadapt_checkadjust_alternate
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_checkadjust"
          NEXT="CheckRequestConvertCallas"
          POSX="1500"
          POSY="900"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_checkadjust_alternate>
        <DPF4CONVERT.pdfadapt_checkadjust_attreplaced
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_checkadjust"
          NEXT="check_alternate_profile"
          POSX="1200"
          POSY="900"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_checkadjust_attreplaced>
        <DPF4CONVERT.pdfadapt_checkadjust_final
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_checkadjust"
          NEXT="CheckAcceptResult"
          POSX="1300"
          POSY="2300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_checkadjust_final>
        <DPF4CONVERT.pdfadapt_checkadjust_first
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_checkadjust"
          NEXT="CheckAttachments"
          POSX="900"
          POSY="1000"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_checkadjust_first>
        <DPF4CONVERT.pdfadapt_finish1
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_finish"
          NEXT="END"
          POSX="700"
          POSY="2800"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_finish1>
        <DPF4CONVERT.pdfadapt_finishconvert1
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_finishconvert"
          NEXT="CheckFileModified"
          POSX="300"
          POSY="1900"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_finishconvert1>
        <DPF4CONVERT.pdfadapt_finishconvert2
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_finishconvert"
          NEXT="CheckFileConverted"
          POSX="1200"
          POSY="1900"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_finishconvert2>
        <DPF4CONVERT.pdfadapt_init1
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_init"
          NEXT="CheckUseCallas"
          POSX="700"
          POSY="600"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_init1>
        <DPF4CONVERT.pdfadapt_init_alternate
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_init"
          NEXT="DPF4CONVERT.pdfadapt_checkadjust_alternate"
          POSX="1500"
          POSY="700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS>
            <PDFADAPT_ADAPT_CONFIG_FILE
              val="pdfadapt.cfg"
              />
            <PDFADAPT_ADJUST_CONFIG_FILE
              val="pdfadjust.cfg"
              />
            <PDFADAPT_CHECKADJUST_CHECKS
              val="CustomerChecks,PDFA1B-Colorspace,PDFA1B-Metadata,PDFA1B-Security,SEALChecks"
              />
            <PDFADAPT_CHECK_CONFIG_FILE
              val="pdfchecker.cfg"
              />
            <PDFADAPT_CHECK_NAME
              val="PDFA1B"
              />
            <PDFADAPT_ERROR_IF_REFUSED
              val="Y"
              />
            <PDFADAPT_STATES_ACCEPT_RESULT
              val="OK"
              />
            <PDFADAPT_STATES_REQUEST_ADJUST
              val="WARNING,ERROR"
              />
            <PDFADAPT_STATES_REQUEST_CONVERT
              val="WARNING,ERROR,FATAL_FAILURE,INTERNAL_FAILURE,CHANGE_PROTECTED,SIGNATURE,UNKNOWN_FAILURE"
              />
          </DEFAULTS>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_init_alternate>
        <DPF4CONVERT.pdfadapt_init_attreplaced
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_init"
          NEXT="DPF4CONVERT.pdfadapt_checkadjust_attreplaced"
          POSX="1200"
          POSY="700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS>
            <PDFADAPT_ADAPT_CONFIG_FILE
              val="pdfadapt.cfg"
              />
            <PDFADAPT_ADJUST_CONFIG_FILE
              val="pdfadjust.cfg"
              />
            <PDFADAPT_CHECKADJUST_CHECKS
              val="CustomerChecks,PDFA1B-Colorspace,PDFA1B-Metadata,PDFA1B-Security,SEALChecks"
              />
            <PDFADAPT_CHECK_CONFIG_FILE
              val="pdfchecker.cfg"
              />
            <PDFADAPT_CHECK_NAME
              val="PDFA1B"
              />
            <PDFADAPT_ERROR_IF_REFUSED
              val="Y"
              />
            <PDFADAPT_STATES_ACCEPT_RESULT
              val="OK"
              />
            <PDFADAPT_STATES_REQUEST_ADJUST
              val="WARNING,ERROR"
              />
            <PDFADAPT_STATES_REQUEST_CONVERT
              val="WARNING,ERROR,FATAL_FAILURE,INTERNAL_FAILURE,CHANGE_PROTECTED,SIGNATURE,UNKNOWN_FAILURE"
              />
          </DEFAULTS>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_init_attreplaced>
        <DPF4CONVERT.pdfadapt_initconvert1
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_initconvert"
          NEXT="pdf_convert2pdfa1"
          POSX="500"
          POSY="1700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_initconvert1>
        <DPF4CONVERT.pdfadapt_initconvert2
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.pdfadapt_initconvert"
          NEXT="pdf_convert2pdfaCallas"
          POSX="1400"
          POSY="1700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfadapt_initconvert2>
        <END
          COMMENT=""
          NAME="END"
          POSX="1200"
          POSY="2300"
          TYPE="STOP"
          />
        <MAIN
          BEGIN="CheckEnablePdfadapt"
          NAME=""
          />
        <MAPPING/>
        <ResetCurrfilename
          COMMENT=""
          NEXT="DPF4CONVERT.pdfadapt_initconvert1"
          POSX="300"
          POSY="1700"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CURRFILENAME="%PDFADAPT_ORIGFILENAME%"
            PDFADAPT_FILE_MODIFIED="N"
            />
        </ResetCurrfilename>
        <SetAccepted
          COMMENT=""
          NEXT="DPF4CONVERT.pdfadapt_finish1"
          POSX="900"
          POSY="2600"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPF4C_COMMON_OUTFILEpdf="%CURRFILENAME%"
            PDFADAPT_ACCEPTED="Y"
            />
        </SetAccepted>
        <SetCheckPositionFinal
          COMMENT=""
          NEXT="DPF4CONVERT.pdfadapt_check2"
          POSX="500"
          POSY="2100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            PDFADAPT_CHECK_POSITION="final"
            />
        </SetCheckPositionFinal>
        <SetCheckPositionFirst
          COMMENT=""
          NEXT="DPF4CONVERT.pdfadapt_init1"
          POSX="700"
          POSY="400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            PDFADAPTCA_FILE_MODIFIED="N"
            PDFADAPT_ATTACHMENT_COUNT="unknown"
            PDFADAPT_CHECK_COUNT="0"
            PDFADAPT_CHECK_POSITION="first"
            PDFADAPT_FILE_MODIFIED="N"
            PDFADAPT_ORIGFILENAME="%CURRFILENAME%"
            />
        </SetCheckPositionFirst>
        <SetNotAccepted
          COMMENT=""
          NEXT="DPF4CONVERT.pdfadapt_finish1"
          POSX="700"
          POSY="2600"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CURRFILENAME="%PDFADAPT_ORIGFILENAME%"
            PDFADAPTCA_FILE_MODIFIED="N"
            PDFADAPT_ACCEPTED="N"
            PDFADAPT_FILE_MODIFIED="N"
            />
        </SetNotAccepted>
        <SetVersion
          COMMENT=""
          NEXT="SetCheckPositionFirst"
          POSX="700"
          POSY="200"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            VERSION="3.3.0.0"
            VERSION_PDFLONGLIFE="3.3.0.0"
            VERSION_PRODUCER="PDF Longlife Suite - DPF Process Pdfadapt"
            />
        </SetVersion>
        <check_alternate_profile
          COMMENT=""
          ELSE="CheckRequestConvertCallas"
          OPERATOR="ne"
          POSX="900"
          POSY="1400"
          PROPERTY="PDFADAPT_ALTERNATE_CHECK_NAME"
          THEN="restart_with_origfile1"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="VERTICAL"
            />
        </check_alternate_profile>
        <check_attachments_modified
          COMMENT=""
          ELSE="DPF4CONVERT.pdfadapt_init_attreplaced"
          OPERATOR="eq"
          POSX="1100"
          POSY="600"
          PROPERTY="PDFADAPTCA_FILE_MODIFIED"
          THEN="check_alternate_profile"
          TYPE="IF-THEN-ELSE"
          VALUE="N"
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="HORIZONTAL"
            />
        </check_attachments_modified>
        <check_for_attachments
          COMMENT=""
          ELSE="CheckAcceptResult"
          OPERATOR="eq"
          POSX="1000"
          POSY="1700"
          PROPERTY="PDFADAPT_ATTACHMENT_COUNT"
          THEN="restart_with_origfile2"
          TYPE="IF-THEN-ELSE"
          VALUE="0"
          >
          <CONNECTIONS
            ELSE="HORIZONTAL"
            THEN="DIRECT"
            />
        </check_for_attachments>
        <del_alternate_check_name
          COMMENT=""
          NEXT="DPF4CONVERT.pdfadapt_init_alternate"
          POSX="1500"
          POSY="400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="VERTICAL"
            />
          <SET
            PDFADAPT_ALTERNATE_CHECK_NAME=""
            />
        </del_alternate_check_name>
        <pdf_convert2pdfa1
          COMMENT=""
          ERROR="DPF4CONVERT.pdfadapt_finishconvert1"
          NEXT="DPF4CONVERT.pdfadapt_finishconvert1"
          POSX="500"
          POSY="1900"
          TYPE="SWF"
          USE="pdf_convert2pdfa"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </pdf_convert2pdfa1>
        <pdf_convert2pdfaCallas
          COMMENT=""
          ERROR="DPF4CONVERT.pdfadapt_finishconvert2"
          NEXT="DPF4CONVERT.pdfadapt_finishconvert2"
          POSX="1400"
          POSY="1900"
          TYPE="SWF"
          USE="pdf_convert2pdfa"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </pdf_convert2pdfaCallas>
        <restart_with_origfile1
          COMMENT=""
          NEXT="set_alternate_check_name"
          POSX="1300"
          POSY="1400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CURRFILENAME="%PDFADAPT_ORIGFILENAME%"
            PDFADAPTCA_FILE_MODIFIED="N"
            PDFADAPT_ATTACHMENT_COUNT="%PDFADAPT_ORIG_ATTACHMENT_COUNT%"
            PDFADAPT_FILE_MODIFIED="N"
            />
        </restart_with_origfile1>
        <restart_with_origfile2
          COMMENT=""
          NEXT="DPF4CONVERT.pdfadapt_initconvert2"
          POSX="1200"
          POSY="1700"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CURRFILENAME="%PDFADAPT_ORIGFILENAME%"
            PDFADAPTCA_FILE_MODIFIED="N"
            PDFADAPT_ATTACHMENT_COUNT="%PDFADAPT_ORIG_ATTACHMENT_COUNT%"
            PDFADAPT_FILE_MODIFIED="N"
            />
        </restart_with_origfile2>
        <set_alternate_check_name
          COMMENT=""
          NEXT="del_alternate_check_name"
          POSX="1300"
          POSY="400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DESTINATION_FORMAT_QUALITY="%PDFADAPT_ALTERNATE_CHECK_NAME%"
            PDFADAPT_CHECK_NAME="%PDFADAPT_ALTERNATE_CHECK_NAME%"
            />
        </set_alternate_check_name>
      </DPF4CONVERT.pdfadapt>
    </workflows>
  </config>
</DPF>
