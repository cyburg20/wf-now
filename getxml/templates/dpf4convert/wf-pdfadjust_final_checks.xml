<DPF>
  <config>
    <workflows>
      <pdfadjust_final_checks
        NAME="DPF 4 Convert - pdfadjust_final_checks"
        VERSION="$Id: wf-pdfadjust_final_checks.xml,v 1.2 2007/06/22 14:16:35 ludwig Exp $"
        PROJECT="DPF4CONVERT"
        COMMENT="dpf4convert - Execute final checks for adjusted pdf file"
        DPFINT-Type="WorkflowDescription"
        >
        <MAIN
          BEGIN="check_pdfcheck_checks_merge_error_last"
          ERROR="END"
          />
        <check_pdfcheck_checks_merge_error_last
          TYPE="IF-THEN-ELSE"
          PROPERTY="ENABLE_PDF_CHECK_PDFMERGE"
          OPERATOR="contains"
          VALUE="Y"
          THEN="pdfcheckmerge_last"
          ELSE="check_pdfcheckgs_last"
          />
        <pdfcheckmerge_last
          NAME="pdfcheckmerge"
          NEXT="check_pdfcheckgs_last"
          />
        <check_pdfcheckgs_last
          TYPE="IF-THEN-ELSE"
          PROPERTY="ENABLE_PDF_CHECK_GS"
          OPERATOR="contains"
          VALUE="Y"
          THEN="pdfcheckgs_last"
          ELSE="check_execute_pdfchecker_last"
          />
        <pdfcheckgs_last
          NAME="pdfcheckgs"
          NEXT="check_execute_pdfchecker_last"
          />
        <check_execute_pdfchecker_last
          TYPE="IF-THEN-ELSE"
          PROPERTY="DISABLE_LAST_PDF_CHECKER_EXECUTION"
          OPERATOR="contains"
          VALUE="Y"
          THEN="check_switch_file_compare_after_pdfadjust"
          ELSE="pdfchecker_last"
          />
        <pdfchecker_last
          NAME="pdfchecker"
          NEXT="check_switch_file_compare_after_pdfadjust"
          />
        <check_switch_file_compare_after_pdfadjust
          TYPE="IF-THEN-ELSE"
          PROPERTY="ENABLE_FILE_COMPARE_AFTER_PDFADJUST"
          OPERATOR="contains"
          VALUE="Y"
          THEN="filecompare"
          ELSE="END"
          />
        <filecompare
          NAME="filecompare"
          NEXT="action_on_result_of_file_compare_after_pdfadjust"
          />
        <action_on_result_of_file_compare_after_pdfadjust
          TYPE="IF-THEN-ELSE"
          PROPERTY="FILECOMPARE_FILES_ARE_IDENTICALLY"
          OPERATOR="contains"
          VALUE="N"
          THEN="error_file_compare_after_pdfadjust"
          ELSE="END"
          />
        <error_file_compare_after_pdfadjust
          TYPE="MODIFY"
          NEXT="exit_process"
        >
          <SET
          ERR_REASON="Error: Adjusted file and source pdf file are not identical."
          ERR_WFNAME="pdfadjust"
          ERR_WFPOSITION="error_file_compare_after_pdfadjust"
          />
        </error_file_compare_after_pdfadjust>
        <exit_process
          NAME="exit_process"
          NEXT="END"
          />
      </pdfadjust_final_checks>
    </workflows>
  </config>
</DPF>
