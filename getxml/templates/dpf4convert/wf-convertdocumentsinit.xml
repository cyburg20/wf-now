<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <DPF4CONVERT.ConvertDocumentsInit
        COMMENT=""
        DPFINT-Type="WorkflowDescription"
        NAME="ConvertDocumentsInit"
        PROJECT="DPF4CONVERT"
        VERSION="$Id: wf-convertdocumentsinit.xml,v 1.2 2016/02/16 12:11:38 kig Exp $"
        >
        <DEFAULTS/>
        <DPF4CONVERT.readcustomconfig
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.readcustomconfig"
          NEXT="Rli.validate"
          POSX="500"
          POSY="300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.readcustomconfig>
        <END
          COMMENT=""
          NAME="END"
          POSX="200"
          POSY="100"
          TYPE="STOP"
          />
        <MAIN
          BEGIN="DPF4CONVERT.readcustomconfig"
          NAME=""
          />
        <MAPPING/>
        <Rli.readSections
          COMMENT="Read standard values from rli section"
          ERROR="END"
          NAME="Rli.readSections"
          NEXT="check_for_auto_detect_processing"
          POSX="500"
          POSY="700"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </Rli.readSections>
        <Rli.validate
          COMMENT="Check for necessary fields in the rli file"
          ERROR="END"
          NAME="Rli.validate"
          NEXT="Rli.readSections"
          POSX="500"
          POSY="500"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </Rli.validate>
        <check_for_auto_detect_processing
          COMMENT=""
          ELSE="check_for_merge"
          OPERATOR="exists"
          POSX="500"
          POSY="900"
          PROPERTY="CDPROCESSINGTYPE"
          THEN="check_processing_type_merge"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_for_auto_detect_processing>
        <check_for_device_type
          COMMENT=""
          ELSE="set_processing_to_pdf"
          OPERATOR="ne"
          POSX="900"
          POSY="1200"
          PROPERTY="DEVICETYPE"
          THEN="set_processing_to_print"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="VERTICAL"
            />
        </check_for_device_type>
        <check_for_merge
          COMMENT=""
          ELSE="checkforDESTINATIONFORMAT"
          OPERATOR="is true"
          POSX="700"
          POSY="900"
          PROPERTY="WANT_MERGE"
          THEN="set_processing_to_merge"
          TYPE="IF-THEN-ELSE"
          VALUE=""
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="DIRECT"
            />
        </check_for_merge>
        <check_processing_type_merge
          COMMENT=""
          ELSE="END"
          OPERATOR="eq"
          POSX="500"
          POSY="1100"
          PROPERTY="CDPROCESSINGTYPE"
          THEN="set_skip_copy_target"
          TYPE="IF-THEN-ELSE"
          VALUE="merge"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_processing_type_merge>
        <checkforDESTINATIONFORMAT
          COMMENT=""
          ELSE="set_processing_to_print"
          OPERATOR="eq"
          POSX="1000"
          POSY="1000"
          PROPERTY="DESTINATIONFORMAT"
          THEN="check_for_device_type"
          TYPE="IF-THEN-ELSE"
          VALUE="PDF"
          >
          <CONNECTIONS
            ELSE="VERTICAL"
            THEN="VERTICAL"
            />
        </checkforDESTINATIONFORMAT>
        <set_processing_to_merge
          COMMENT=""
          NEXT="set_skip_copy_target"
          POSX="700"
          POSY="1100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="HORIZONTAL"
            />
          <SET
            CDPROCESSINGTYPE="merge"
            />
        </set_processing_to_merge>
        <set_processing_to_pdf
          COMMENT=""
          NEXT="END"
          POSX="900"
          POSY="1400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CDPROCESSINGTYPE="pdf"
            />
        </set_processing_to_pdf>
        <set_processing_to_print
          COMMENT=""
          NEXT="END"
          POSX="1100"
          POSY="1400"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            CDPROCESSINGTYPE="print"
            />
        </set_processing_to_print>
        <set_skip_copy_target
          COMMENT=""
          NEXT="END"
          POSX="500"
          POSY="1300"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            SWITCH_SKIP_COPY_TARGET="Y"
            />
        </set_skip_copy_target>
      </DPF4CONVERT.ConvertDocumentsInit>
    </workflows>
  </config>
</DPF>
