<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <DPF4CONVERT.net_put_data
        COMMENT="Net Convert - SUBPROCESS NET PUT DATA.

This subprocess is used from the main NET CONVERT processes to send back files to client."
        DPFINT-Customer="0"
        DPFINT-Interactive="0"
        DPFINT-Type="WorkflowDescription"
        NAME="NET Convert - SubProcess Net Put Data"
        PROJECT="DPF4CONVERT"
        VERSION="$Id: wf-net_put_data.xml,v 1.8 2016/08/15 08:06:21 kig Exp $"
        >
        <DEFAULTS/>
        <DPF4CONVERT.dpf4c_user_post_net_put_files1
          COMMENT=""
          ERROR="END"
          NEXT="END"
          POSX="900"
          POSY="1100"
          TYPE="SWF"
          USE="DPF4CONVERT.dpf4c_user_post_net_put_files"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.dpf4c_user_post_net_put_files1>
        <DPF4CONVERT.dpf4c_user_pre_net_put_files1
          COMMENT=""
          ERROR="END"
          NEXT="DPF4CONVERT.net_put_files"
          POSX="1000"
          POSY="400"
          TYPE="SWF"
          USE="DPF4CONVERT.dpf4c_user_pre_net_put_files"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.dpf4c_user_pre_net_put_files1>
        <DPF4CONVERT.handle_droppath1
          COMMENT=""
          ERROR="END"
          NEXT="check_switch_user_pre_put_files"
          POSX="400"
          POSY="100"
          TYPE="SWF"
          USE="DPF4CONVERT.handle_droppath"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.handle_droppath1>
        <DPF4CONVERT.net_put_files
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.net_put_files"
          NEXT="check_use_sendback"
          POSX="800"
          POSY="500"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.net_put_files>
        <DPF4CONVERT.net_put_files_with_init
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.net_put_files"
          NEXT="check_use_sendback"
          POSX="600"
          POSY="500"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.net_put_files_with_init>
        <DPF4CONVERT.put_files_init1
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.checkin_init"
          NEXT="DPF4CONVERT.dpf4c_user_pre_net_put_files1"
          POSX="800"
          POSY="300"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.put_files_init1>
        <END
          COMMENT=""
          NAME="END"
          POSX="700"
          POSY="1100"
          TYPE="STOP"
          />
        <MAIN
          BEGIN="check_dpf4view"
          ERROR="END"
          LOGLEVEL="I"
          />
        <MAPPING/>
        <check_dpf4view
          COMMENT="Skip copy for performance reasons, because Viewing only transports one file, which can be renamed during sendback"
          ELSE="DPF4CONVERT.handle_droppath1"
          OPERATOR="contains"
          POSX="200"
          POSY="100"
          PROPERTY="WFPATH"
          THEN="set_params_for_sendback"
          TYPE="IF-THEN-ELSE"
          VALUE="DPF4VIEW.prepare_single"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_dpf4view>
        <check_switch_user_post_put_files
          COMMENT=""
          ELSE="END"
          OPERATOR="eq"
          POSX="700"
          POSY="900"
          PROPERTY="DPF4C_SWITCH_USER_POST_NET_PUT_FILES"
          THEN="DPF4CONVERT.dpf4c_user_post_net_put_files1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_switch_user_post_put_files>
        <check_switch_user_pre_put_files
          COMMENT=""
          ELSE="DPF4CONVERT.net_put_files_with_init"
          OPERATOR="contains"
          POSX="600"
          POSY="100"
          PROPERTY="DPF4C_SWITCH_USER_PRE_NET_PUT_FILES"
          THEN="DPF4CONVERT.put_files_init1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="VERTICAL"
            />
        </check_switch_user_pre_put_files>
        <check_use_sendback
          COMMENT=""
          ELSE="check_switch_user_post_put_files"
          OPERATOR="ne"
          POSX="700"
          POSY="700"
          PROPERTY="DPF4C_SWITCH_NET_PUT_FILES_USE_COPY"
          THEN="sendback"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_use_sendback>
        <dpf4view_sendback
          COMMENT=""
          ERROR="END"
          NAME="sendback"
          NEXT="check_switch_user_post_put_files"
          POSX="200"
          POSY="800"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="HORIZONTAL"
            />
          <DEFAULTS/>
          <MAPPING/>
        </dpf4view_sendback>
        <sendback
          COMMENT=""
          ERROR="END"
          NAME="sendback"
          NEXT="check_switch_user_post_put_files"
          POSX="900"
          POSY="800"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING
            TARGETDIR=""
            />
        </sendback>
        <set_params_for_sendback
          COMMENT=""
          NEXT="dpf4view_sendback"
          POSX="200"
          POSY="600"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            SOURCE_FILE_PROPERTIES="CURRFILENAME"
            TARGET_FILE_PROPERTIES="TARGET_FILE_PROPERTY"
            TARGET_FILE_PROPERTY="%OrigFileName.basename%.%CurrFileName.extension%"
            />
        </set_params_for_sendback>
      </DPF4CONVERT.net_put_data>
    </workflows>
  </config>
</DPF>
