<?xml version="1.0" encoding="ISO-8859-1"?>
<DPF>
  <config>
    <workflows>
      <DPF4CONVERT.pdfprocess
        COMMENT="The DPF-process PDFPROCESS performs several processing steps on a PDF-file like pdfstamp, pdfmono, ..."
        DPFINT-Customer="0"
        DPFINT-Interactive="0"
        DPFINT-Type="WorkflowDescription"
        NAME="Pdfprocess - Process a PDF file"
        PROJECT="DPF4CONVERT"
        VERSION="$Id: wf-pdfprocess.xml,v 1.9 2017/06/19 12:43:00 kig Exp $"
        >
        <DEFAULTS/>
        <DPF4CONVERT.dpf4c_user_pre_pdfprocess1
          COMMENT=""
          ERROR="END"
          NEXT="check_enabled"
          POSX="400"
          POSY="600"
          TYPE="SWF"
          USE="DPF4CONVERT.dpf4c_user_pre_pdfprocess"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.dpf4c_user_pre_pdfprocess1>
        <DPF4CONVERT.pdfpreproc1
          COMMENT=""
          ERROR="END"
          NEXT="set_custom_config"
          POSX="100"
          POSY="100"
          TYPE="SWF"
          USE="DPF4CONVERT.pdfpreproc"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.pdfpreproc1>
        <DPF4CONVERT.readcustomconfig
          COMMENT=""
          ERROR="END"
          NAME="DPF4CONVERT.readcustomconfig"
          NEXT="check_user_pre_pdfprocess"
          POSX="400"
          POSY="400"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </DPF4CONVERT.readcustomconfig>
        <END
          COMMENT=""
          NAME="END"
          POSX="600"
          POSY="1900"
          TYPE="STOP"
          />
        <MAIN
          BEGIN="DPF4CONVERT.pdfpreproc1"
          NAME=""
          />
        <MAPPING/>
        <check_destcolor
          COMMENT=""
          ELSE="check_enable_ocr"
          OPERATOR="contains"
          POSX="200"
          POSY="1300"
          PROPERTY="DPF4C_COMMON_DEST_COLOR"
          THEN="pdf2pdf_mono1"
          TYPE="IF-THEN-ELSE"
          VALUE="black"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_destcolor>
        <check_enable_ocr
          COMMENT=""
          ELSE="check_signature_page"
          OPERATOR="eq"
          POSX="200"
          POSY="1500"
          PROPERTY="DPF4C_ENABLE_OCR"
          THEN="ocr2pdf1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_enable_ocr>
        <check_enable_ocr_before
          COMMENT=""
          ELSE="check_modify_stamp"
          OPERATOR="eq"
          POSX="200"
          POSY="900"
          PROPERTY="DPF4C_ENABLE_OCR"
          THEN="ocr2pdf2"
          TYPE="IF-THEN-ELSE"
          VALUE="B"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_enable_ocr_before>
        <check_enabled
          COMMENT=""
          ELSE="check_enable_ocr_before"
          OPERATOR="eq"
          POSX="200"
          POSY="700"
          PROPERTY="ENABLE_PDFPROCESS"
          THEN="END"
          TYPE="IF-THEN-ELSE"
          VALUE="N"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_enabled>
        <check_modify_stamp
          COMMENT=""
          ELSE="check_destcolor"
          OPERATOR="eq"
          POSX="200"
          POSY="1100"
          PROPERTY="DPF4C_MODIFY_STAMP"
          THEN="pdfstamp1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_modify_stamp>
        <check_read_custom_config
          COMMENT=""
          ELSE="DPF4CONVERT.readcustomconfig"
          OPERATOR="eq"
          POSX="200"
          POSY="300"
          PROPERTY="DPF4C_READ_CUSTOM_CONFIG_PDFPROCESS"
          THEN="check_user_pre_pdfprocess"
          TYPE="IF-THEN-ELSE"
          VALUE="N"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_read_custom_config>
        <check_signature_page
          COMMENT=""
          ELSE="set_outfile_pdf"
          OPERATOR="contains"
          POSX="200"
          POSY="1700"
          PROPERTY="DPF4C_CREATE_SIGNATURE_PAGE"
          THEN="create_merge_signature_page1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_signature_page>
        <check_user_pre_pdfprocess
          COMMENT=""
          ELSE="check_enabled"
          OPERATOR="eq"
          POSX="200"
          POSY="500"
          PROPERTY="DPF4C_SWITCH_USER_PRE_PDFPROCESS"
          THEN="DPF4CONVERT.dpf4c_user_pre_pdfprocess1"
          TYPE="IF-THEN-ELSE"
          VALUE="Y"
          >
          <CONNECTIONS
            ELSE="DIRECT"
            THEN="DIRECT"
            />
        </check_user_pre_pdfprocess>
        <create_merge_signature_page1
          COMMENT=""
          ERROR="END"
          NAME="create_merge_signature_page"
          NEXT="set_outfile_pdf"
          POSX="400"
          POSY="1800"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS
            DPF4C_CREATE_MERGE_SIGNATURE_PAGE_TAKE_NO_BOOKMARKS="N"
            DPF4C_CREATE_SIGNATURE_PAGE="N"
            DPF4C_SIGNATURE_SIG_FILENAME=""
            DPF4C_SIGNATURE_SIG_POSITION="F"
            WU_ENABLE_DEBUG_LOOP="N"
            />
          <MAPPING/>
        </create_merge_signature_page1>
        <ocr2pdf1
          COMMENT=""
          ERROR="END"
          NEXT="check_signature_page"
          POSX="400"
          POSY="1600"
          TYPE="SWF"
          USE="ocr2pdf"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </ocr2pdf1>
        <ocr2pdf2
          COMMENT=""
          ERROR="END"
          NEXT="check_modify_stamp"
          POSX="400"
          POSY="1000"
          TYPE="SWF"
          USE="ocr2pdf"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS/>
          <MAPPING/>
        </ocr2pdf2>
        <pdf2pdf_mono1
          COMMENT=""
          ERROR="END"
          NAME="pdf2pdf_mono"
          NEXT="check_enable_ocr"
          POSX="400"
          POSY="1400"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS
            WU_ENABLE_DEBUG_LOOP="N"
            />
          <MAPPING/>
        </pdf2pdf_mono1>
        <pdfstamp1
          COMMENT=""
          ERROR="END"
          NAME="pdfstamp"
          NEXT="check_destcolor"
          POSX="400"
          POSY="1200"
          TYPE="WU"
          >
          <CONNECTIONS
            ERROR="DIRECT"
            NEXT="DIRECT"
            />
          <DEFAULTS
            DPF4C_PDFSTAMP_DB_FILE="default.db"
            DPF4C_PDFSTAMP_STP_FILE="default.stp"
            DPF4C_PDFSTAMP_TXT_FILE="%PLSROOT%tools/convcfg/pdfstamp/default.txt"
            USE_DEFAULT_TXT_FILE="N"
            WU_ENABLE_DEBUG_LOOP="N"
            />
          <MAPPING/>
        </pdfstamp1>
        <set_custom_config
          COMMENT=""
          NEXT="check_read_custom_config"
          POSX="300"
          POSY="100"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPF4C_CUSTOM_CONFIG="dpf4convert::pdfprocess"
            />
        </set_custom_config>
        <set_outfile_pdf
          COMMENT=""
          NEXT="END"
          POSX="200"
          POSY="1900"
          TYPE="MODIFY"
          >
          <CONNECTIONS
            NEXT="DIRECT"
            />
          <SET
            DPF4C_COMMON_OUTFILEpdf="%CURRFILENAME%"
            />
        </set_outfile_pdf>
      </DPF4CONVERT.pdfprocess>
    </workflows>
  </config>
</DPF>
